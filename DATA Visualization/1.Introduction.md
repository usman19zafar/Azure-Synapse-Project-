Why we create external tables

1. Hide complexity

Users don’t need to know:

file paths

file formats

delimiters

folder structures

They just query a table.
_______________________________________________________________________________________________________________________________________________________________________________________________________
2. Reduce repetition

No more writing OPENROWSET again and again.

One table → infinite queries.

_______________________________________________________________________________________________________________________________________________________________________________________________________
3. Enable BI tools

Power BI, Excel, Tableau can’t query raw files easily.

They can query tables.

_______________________________________________________________________________________________________________________________________________________________________________________________________
4. Improve governance

Schemas, permissions, roles — all applied at the table level.

_______________________________________________________________________________________________________________________________________________________________________________________________________
5. Metadata performance

Serverless SQL can optimize when it knows:

column names

data types

file format

_______________________________________________________________________________________________________________________________________________________________________________________________________
6. Zero data movement

External tables = metadata only.

Data stays in ADLS.

_______________________________________________________________________________________________________________________________________________________________________________________________________
```Code
+----------------------+-------------------------------------------+
| Reason               | Meaning                                   |
+----------------------+-------------------------------------------+
| Abstraction          | Hide file complexity                      |
| Reuse                | Avoid repeating OPENROWSET                |
| BI compatibility     | Tools can query tables                    |
| Governance           | Permissions on schemas/tables             |
| Performance          | Metadata helps optimize queries           |
| No ETL               | Data stays in the lake                    |
+----------------------+-------------------------------------------+
```

Topic: External Tables, Views, Data Virtualization in Synapse Serverless SQL

1. Core Concept

One word

Virtualization

Two words

Logical layer

Business analogy

It’s like reading inventory directly from the warehouse shelves without moving anything into a back office.

_______________________________________________________________________________________________________________________________________________________________________________________________________
2. What Data Virtualization Means

Query data where it lives (ADLS, Blob)

No ETL, no ingestion, no duplication

Serverless SQL acts as a lens, not a warehouse

Analysts see tables, not files

Developers avoid repeating OPENROWSET everywhere

_______________________________________________________________________________________________________________________________________________________________________________________________________
3. Why External Tables Exist (2025 Reality)

Hide file paths, formats, delimiters

Provide stable SQL objects for BI tools

Improve performance via metadata

Reduce code repetition

Enable governance (schemas, permissions)

_______________________________________________________________________________________________________________________________________________________________________________________________________
4. Two Ways to Create External Tables

```Code
+----------------------+-------------------------------+
| Method               | Meaning                       |
+----------------------+-------------------------------+
| CREATE EXTERNAL      | Metadata only. No data move.  |
| TABLE                | Points to existing files.     |
+----------------------+-------------------------------+
| CETAS                | Copies data to new files AND  |
| (CREATE EXTERNAL     | creates an external table.    |
| TABLE AS SELECT)     | Used for transformations.     |
+----------------------+-------------------------------+
```

_______________________________________________________________________________________________________________________________________________________________________________________________________
5. Required Objects (DAIS‑10 Structure)

```Code
+----------------------+---------------------------------------------+
| Object               | Purpose                                     |
+----------------------+---------------------------------------------+
| External Data Source | Points to ADLS/Blob path + credentials      |
+----------------------+---------------------------------------------+
| External File Format | Defines CSV/Parquet/Delta + compression     |
+----------------------+---------------------------------------------+
| External Table       | Metadata: columns, types, reject options    |
+----------------------+---------------------------------------------+
```

_______________________________________________________________________________________________________________________________________________________________________________________________________
6. Updated 2025 Facts (Important)

```Code
+---------------------------+-----------------------------+---------------------------+
| Topic                     | 2022 Status                 | 2025 Update               |
+---------------------------+-----------------------------+---------------------------+
| Delta Lake in Serverless  | Preview                     | Still preview, more stable|
+---------------------------+-----------------------------+---------------------------+
| External tables writable  | No                          | Still no (read-only)      |
+---------------------------+-----------------------------+---------------------------+
| Hadoop external tables     | Mentioned                  | Explicitly NOT supported  |
| in serverless             |                             | in serverless SQL         |
+---------------------------+-----------------------------+---------------------------+
| CETAS                     | Supported                   | Still supported           |
+---------------------------+-----------------------------+---------------------------+
| File formats              | CSV, Parquet, Delta         | Same                      |
+---------------------------+-----------------------------+---------------------------+
| Schema inference          | Available                   | Same                      |
+---------------------------+-----------------------------+---------------------------+
```

_______________________________________________________________________________________________________________________________________________________________________________________________________
7.Interpretation (Compressed Insight)

External tables = identity layer

File formats = boundary layer

Data source = location truth

Views = presentation layer

Serverless SQL = non‑intrusive observer

Metadata + Structure + behavior.

_______________________________________________________________________________________________________________________________________________________________________________________________________
8.Summary

One word

Blueprint

Two words

Metadata architecture

Business analogy

You’re not moving the goods — you’re giving everyone a clean catalog so they can find what they need without touching the warehouse.

Business analogy

Think of it like a supply chain: raw goods (bronze), cleaned inventory (silver), and ready‑to‑sell products (gold).

_______________________________________________________________________________________________________________________________________________________________________________________________________
Bronze / Silver / Gold Mapping (Serverless SQL Edition)

Short, clean, compressed — your style.

```Code
+--------+---------------------------+-------------------------------------------+
| Layer  | Meaning                   | What lives here                           |
+--------+---------------------------+-------------------------------------------+
| Bronze | Raw reality               | Raw files, external tables, no cleanup    |
|        |                           | CSV, Parquet, JSON, Delta                 |
|        |                           | Direct OPENROWSET views                   |
+--------+---------------------------+-------------------------------------------+
| Silver | Clean truth               | Cleaned, typed, standardized views        |
|        |                           | Joins, filters, column renames            |
|        |                           | Business‑safe shapes                      |
+--------+---------------------------+-------------------------------------------+
| Gold   | Business meaning          | Final curated models                      |
|        |                           | Aggregations, KPIs, dimensional views     |
|        |                           | Ready for BI tools                        |
+--------+---------------------------+-------------------------------------------+
```
Layer‑by‑Layer 

_______________________________________________________________________________________________________________________________________________________________________________________________________
Bronze — Raw Layer

External tables pointing to raw files

No transformations

Schema = minimal

Purpose: preserve truth

One word: Raw

Two words: Untouched data

_______________________________________________________________________________________________________________________________________________________________________________________________________
Silver — Clean Layer

Standardized column names

Data types fixed

Nulls handled

Joins resolved

Purpose: make data usable

One word: Refined

Two words: Clean structure

_______________________________________________________________________________________________________________________________________________________________________________________________________
Gold — Curated Layer

Business logic applied

Aggregations, KPIs, metrics

Dimensional models

Purpose: ready for consumption

One word: Insight

Two words: Business-ready

_______________________________________________________________________________________________________________________________________________________________________________________________________
2025 Alignment

```Code
+----------------------+-------------------------------+
| Layer                | 2025 Serverless Reality       |
+----------------------+-------------------------------+
| Bronze               | External tables only          |
|                      | No updates, read-only         |
+----------------------+-------------------------------+
| Silver               | Views on external tables      |
|                      | Transformations via SQL       |
+----------------------+-------------------------------+
| Gold                 | BI-ready views                |
|                      | Power BI connects directly    |
+----------------------+-------------------------------+
```

Business analogy

This is your warehouse layout + labeling system — clean aisles, predictable shelves, zero confusion.

_______________________________________________________________________________________________________________________________________________________________________________________________________
Bronze / Silver / Gold Folder Structure 

```Code
/datalake
    /bronze
        /source-system-name
            /entity-name
                /year=YYYY
                    /month=MM
                        /day=DD
    /silver
        /domain-name
            /entity-name
                /version=v1
    /gold
        /business-area
            /model-name
                /version=v1
Short, predictable, scalable.
```
Naming Conventions 

1. Folder Naming

```Code
lowercase
hyphens-for-separation
no spaces
no special characters
```

_______________________________________________________________________________________________________________________________________________________________________________________________________
Examples:
```code
bronze/nyc-taxi/trips/year=2024/month=01/day=15

silver/transportation/trips-clean/v1

gold/finance/revenue-mart/v1
```

_______________________________________________________________________________________________________________________________________________________________________________________________________
2. Table Naming

```Code
<layer>_<domain>_<entity>
```
Examples:

bronze_taxi_trips

silver_taxi_trips_clean

gold_taxi_trip_metrics


_______________________________________________________________________________________________________________________________________________________________________________________________________
3. Schema Naming

```Code
bronze
silver
gold
```
Purpose:

Bronze = raw

Silver = cleaned

Gold = curated

_______________________________________________________________________________________________________________________________________________________________________________________________________
4. File Naming

```Code
entityname_yyyymmdd_hhmmss.ext
Examples:

trips_20240115_120000.csv

payments_20240115_120000.parquet
```
Summary Table
```Code
+--------+----------------------+-------------------------------------------+
| Layer  | Folder Pattern       | Naming Pattern                            |
+--------+----------------------+-------------------------------------------+
| Bronze | /bronze/source/entity| bronze_<domain>_<entity>                  |
|        | /year=YYYY/month=MM  | Raw file names with timestamps            |
+--------+----------------------+-------------------------------------------+
| Silver | /silver/domain/entity| silver_<domain>_<entity>_clean            |
|        | /version=v1          | Standardized, typed, cleaned              |
+--------+----------------------+-------------------------------------------+
| Gold   | /gold/business/model | gold_<domain>_<entity>_metrics            |
|        | /version=v1          | BI-ready curated models                   |
+--------+----------------------+-------------------------------------------+
```
